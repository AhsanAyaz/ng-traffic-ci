{"version":3,"sources":["/home/travis/build/AhsanAyaz/ng-traffic-ci/src/$_gendir lazy","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app-routing.module.ts","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.html","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.scss","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.ts","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.module.ts","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/traffic-light.service.ts","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/environments/environment.ts","/home/travis/build/AhsanAyaz/ng-traffic-ci/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/$$_gendir lazy\n// module id = ../../../../../src/$$_gendir lazy recursive\n// module chunks = main","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app-routing.module.ts","module.exports = \"<div class=\\\"app-container\\\">\\n  <div class=\\\"traffic-container\\\">\\n    <h3 class=\\\"text-center\\\">{{title}}</h3>\\n    <h5 class=\\\"text-center\\\">\\n      Use the buttons below to handle the state of the signal\\n    </h5>\\n    <div class=\\\"actions-container text-center\\\">\\n      <div class=\\\"btn-group\\\">\\n        <button class=\\\"btn btn-danger stop-btn\\\" (click)=\\\"stop()\\\">STOP</button>\\n        <button class=\\\"btn btn-warn ready-btn\\\" (click)=\\\"ready()\\\">READY</button>\\n        <button class=\\\"btn btn-success go-btn\\\" (click)=\\\"go()\\\">GO</button>\\n      </div>\\n      <div class=\\\"btn-group\\\">\\n          <button class=\\\"btn btn-info\\\" (click)=\\\"auto()\\\">AUTO</button>\\n      </div>\\n    </div>\\n    <div class=\\\"trafficlight\\\">\\n      <div class=\\\"protector\\\"></div>\\n      <div class=\\\"protector\\\"></div>\\n      <div class=\\\"protector\\\"></div>\\n      <div class=\\\"red light\\\" [class.animate]=\\\"trafficLightState === 'red'\\\"></div>\\n      <div class=\\\"yellow light\\\" [class.animate]=\\\"trafficLightState === 'yellow'\\\"></div>\\n      <div class=\\\"green light\\\" [class.animate]=\\\"trafficLightState === 'green'\\\"></div>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".app-container {\\n  padding-top: 40px; }\\n  .app-container .traffic-container {\\n    color: #333;\\n    max-width: 500px;\\n    margin: 0 auto; }\\n    .app-container .traffic-container .btn-group {\\n      margin-bottom: 10px; }\\n    .app-container .traffic-container .trafficlight {\\n      margin: 20px auto;\\n      background: #222;\\n      background-image: linear-gradient(transparent 2%, #111 2%, transparent 3%, #111 30%);\\n      width: 170px;\\n      height: 400px;\\n      border-radius: 20px;\\n      position: relative;\\n      border: solid 5px #333; }\\n      .app-container .traffic-container .trafficlight:before {\\n        background: #222;\\n        background-image: radial-gradient(#444, #000);\\n        content: \\\"\\\";\\n        width: 170px;\\n        height: 150px;\\n        margin: 0 auto;\\n        position: absolute;\\n        top: -20px;\\n        margin-left: 0px;\\n        border-radius: 50%;\\n        z-index: -1; }\\n      .app-container .traffic-container .trafficlight:after {\\n        background: #222;\\n        background-image: linear-gradient(-90deg, #222 0%, #444 30%, #000);\\n        content: \\\"\\\";\\n        width: 50px;\\n        height: 50px;\\n        margin-left: 60px;\\n        position: absolute;\\n        bottom: -50px;\\n        z-index: -1; }\\n      .app-container .traffic-container .trafficlight .protector {\\n        background: transparent;\\n        width: 230px;\\n        height: 0;\\n        position: absolute;\\n        top: 20px;\\n        left: -35px;\\n        border-right: solid 30px transparent;\\n        border-left: solid 30px transparent;\\n        border-top: solid 90px #111;\\n        border-radius: 10px;\\n        z-index: -1; }\\n        .app-container .traffic-container .trafficlight .protector:nth-child(2) {\\n          top: 140px; }\\n        .app-container .traffic-container .trafficlight .protector:nth-child(3) {\\n          top: 260px; }\\n      .app-container .traffic-container .trafficlight .red {\\n        background: red;\\n        background-image: radial-gradient(brown, transparent);\\n        background-size: 5px 5px;\\n        width: 100px;\\n        height: 100px;\\n        border-radius: 50%;\\n        position: absolute;\\n        top: 20px;\\n        left: 35px;\\n        border: dotted 2px red;\\n        box-shadow: 0 0 20px #111 inset, 0 0 10px red;\\n        opacity: 0.1; }\\n        .app-container .traffic-container .trafficlight .red.animate {\\n          -webkit-animation: 1s red;\\n                  animation: 1s red;\\n          opacity: 1; }\\n      .app-container .traffic-container .trafficlight .yellow {\\n        background: yellow;\\n        background-image: radial-gradient(orange, transparent);\\n        background-size: 5px 5px;\\n        width: 100px;\\n        height: 100px;\\n        border-radius: 50%;\\n        border: dotted 2px yellow;\\n        position: absolute;\\n        top: 145px;\\n        left: 35px;\\n        box-shadow: 0 0 20px #111 inset, 0 0 10px yellow;\\n        opacity: 0.1; }\\n        .app-container .traffic-container .trafficlight .yellow.animate {\\n          -webkit-animation: 1s yellow;\\n                  animation: 1s yellow;\\n          opacity: 1; }\\n      .app-container .traffic-container .trafficlight .green {\\n        background: green;\\n        background-image: radial-gradient(lime, transparent);\\n        background-size: 5px 5px;\\n        width: 100px;\\n        height: 100px;\\n        border-radius: 50%;\\n        border: dotted 2px lime;\\n        position: absolute;\\n        top: 270px;\\n        left: 35px;\\n        box-shadow: 0 0 20px #111 inset, 0 0 10px lime;\\n        opacity: 0.1; }\\n        .app-container .traffic-container .trafficlight .green.animate {\\n          -webkit-animation: 1s green;\\n                  animation: 1s green;\\n          opacity: 1; }\\n\\n@-webkit-keyframes red {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: .1; }\\n  60% {\\n    opacity: 1; }\\n  80% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 1; } }\\n\\n@keyframes red {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: .1; }\\n  60% {\\n    opacity: 1; }\\n  80% {\\n    opacity: 1; }\\n  100% {\\n    opacity: 1; } }\\n\\n@-webkit-keyframes yellow {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: 1; }\\n  50% {\\n    opacity: .1; }\\n  60% {\\n    opacity: .1; }\\n  80% {\\n    opacity: .1; }\\n  100% {\\n    opacity: 1; } }\\n\\n@keyframes yellow {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: 1; }\\n  50% {\\n    opacity: .1; }\\n  60% {\\n    opacity: .1; }\\n  80% {\\n    opacity: .1; }\\n  100% {\\n    opacity: 1; } }\\n\\n@-webkit-keyframes green {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: .1; }\\n  60% {\\n    opacity: 1; }\\n  80% {\\n    opacity: 1; }\\n  83% {\\n    opacity: .1; }\\n  86% {\\n    opacity: 1; }\\n  89% {\\n    opacity: .1; }\\n  93% {\\n    opacity: 1; }\\n  96% {\\n    opacity: .1; }\\n  100% {\\n    opacity: 1; } }\\n\\n@keyframes green {\\n  0% {\\n    opacity: .1; }\\n  20% {\\n    opacity: .1; }\\n  40% {\\n    opacity: .1; }\\n  60% {\\n    opacity: 1; }\\n  80% {\\n    opacity: 1; }\\n  83% {\\n    opacity: .1; }\\n  86% {\\n    opacity: 1; }\\n  89% {\\n    opacity: .1; }\\n  93% {\\n    opacity: 1; }\\n  96% {\\n    opacity: .1; }\\n  100% {\\n    opacity: 1; } }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.scss\n// module id = ../../../../../src/app/app.component.scss\n// module chunks = main","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { TrafficLightService, LIGHT_STATES } from './traffic-light.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Traffic Signal App';\n  trafficLightState: string;\n\n  constructor(private trafficService: TrafficLightService) {\n  }\n\n  ngOnInit() {\n    this.trafficService.getState().subscribe(state => {\n      this.trafficLightState = state;\n    });\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function gets triggered on STOP button click.\n   * Disables the auto method and shows the Red Light\n   */\n  stop() {\n    this.trafficService.setState(LIGHT_STATES.STOP);\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function gets triggered on READY button click.\n   * Disables the auto method and shows the Yello Light\n   */\n  ready() {\n    this.trafficService.setState(LIGHT_STATES.READY);\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function gets triggered on GO button click.\n   * Disables the auto method and shows the Green Light\n   */\n  go() {\n    this.trafficService.setState(LIGHT_STATES.GO);\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function gets triggered on AUTO button click.\n   * Resets the signal to auto method which changes the state\n   * of the signal using timeouts\n   */\n  auto() {\n    this.trafficService.resetSignalToAuto();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { TrafficLightService } from './traffic-light.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule\n  ],\n  providers: [ TrafficLightService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/app.module.ts","import { Injectable, NgZone } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nexport const LIGHT_STATES = {\n  STOP: 'red',\n  READY: 'yellow',\n  GO: 'green'\n};\n\n@Injectable()\nexport class TrafficLightService {\n  private _lightState = new BehaviorSubject<string>(LIGHT_STATES.GO);\n  private _timer;\n  private _timerDuration;\n  public lightState = this._lightState.asObservable();\n  constructor(private ngZone: NgZone) {\n    this.resetSignalToAuto();\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function sends back the observable to which components can subscribe to for any state changes\n   */\n  public getState() {\n    //  we're returning an observable rather than the subject to avoid clustering with inputs :)\n    return this.lightState;\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * The function sets the state of the signal and stops the auto timer\n   * @param state {string} value of state as string\n   */\n  public setState(state: string = LIGHT_STATES.STOP) {\n    this._lightState.next(state);\n    clearTimeout(this._timer);\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * Resets the signal to use auto state changer. It changes the state on particular hardcoded durations\n   * for now. Simulates how signals actually work\n   */\n  public resetSignalToAuto() {\n    if (this._timer) {\n      clearTimeout(this._timer);\n    }\n    this._changeStateAuto();\n  }\n\n  /**\n   * @author Ahsan Ayaz\n   * This function triggers the automatic handling of the signals.\n   * The signal's statge is changed with particular durations based on previous state\n   */\n  private _changeStateAuto() {\n    let nextActionDuration;\n    switch (this._lightState.getValue()) {\n      case LIGHT_STATES.STOP:\n        this._lightState.next(LIGHT_STATES.READY);\n        nextActionDuration = 3000;\n        break;\n      case LIGHT_STATES.READY:\n        this._lightState.next(LIGHT_STATES.GO);\n        nextActionDuration = 5000;\n        break;\n      case LIGHT_STATES.GO:\n        this._lightState.next(LIGHT_STATES.STOP);\n        nextActionDuration = 5000;\n        break;\n    }\n\n    /**\n     * The below code shows how we can run timeouts outside angular.\n     * This is because on each timeout it would trigger change detection. But we\n     * don't want that. We want it to change detect when the state changes. So we run that code\n     * inside the this.ngZone.run() method.\n     * One more reason to do so is while e2e tests, protractor would wait for all async operations\n     * to complete before going forward. Which stops the tests.\n     */\n    this.ngZone.runOutsideAngular(() => {\n      this._timer = setTimeout(() => {\n        this.ngZone.run(() => {\n          this._changeStateAuto();\n        });\n      }, nextActionDuration);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/app/traffic-light.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /home/travis/build/AhsanAyaz/ng-traffic-ci/src/main.ts"],"sourceRoot":"webpack:///"}